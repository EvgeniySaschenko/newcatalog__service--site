import{d as b,u as v,k as S,e as L,l as y,a as D,m as I,r as T,c as i,h as u,b as s,t as l,g,F as k,n as $,o,f as N,w,_ as x,i as B,j as C}from"./entry.3c66e604.js";import{u as V}from"./index.4ecb0686.js";import A from"./rating-items.d3f6fcb6.js";import M from"./labels-sections.b4c70e92.js";import E from"./links-sources.52c8d9fc.js";import R from"./app-preloader.a73fe623.js";import F from"./app-title.de0650b7.js";import"./app-label-rating.640bc2b4.js";const P=b({async asyncData(){let e,a,{$langDefault:c,$api:p}=v(),{params:f}=S(),r=([e,a]=L(()=>p.getPageRating({ratingId:Number(f.ratingId)})),e=await e,a(),e);r!=null&&r.isError&&r.showError();let{labels:_,rating:t,ratingItems:d}=r;y().setBreadcrumbs([{name:t.name[c()]||"",url:`/${c()}/rating/${t.ratingId}`}]);let{pageTitlePrefix:n,pageTitleSufix:m}=D().items;return V({title:`${n} ${t.name[c()]} ${m}`.trim(),description:t.descr[c()]}),{labels:_,rating:t,ratingItems:d,isLoading:!1}},data(){return{labels:[],rating:{},ratingItems:[],isLoading:!0,sectionsMap:I().itemsMap}},watch:{$route:{handler(e,a){e.path!==a.path&&(this.isLoading=!0)}}},components:{RatingItems:A,LinksSources:E,LabelsSections:M},methods:{scrollToLinksSources(){this.$refs["links-sources"]&&this.$refs["links-sources"].scrollIntoView({behavior:"smooth"})}}}),j={class:"page page--rating"},q={class:"page__top"},z={class:"page__top-col-1"},G={class:"button-sources-text-1"},H={class:"button-sources-text-2"},J={class:"page__top-col-2"},K={class:"labels-sections"},O={class:"page__rating-items"},Q={key:0,class:"page__descr"},U={key:1,class:"page__links-sources",ref:"links-sources"},W={class:"links-sources"},X={class:"links-sources__item"},Y={class:"links-sources__number"},Z=["href"];function ee(e,a,c,p,f,r){const _=R,t=F,d=x,h=T("rating-items");return o(),i("div",j,[u(_,{isLoading:e.isLoading,position:"fixed"},null,8,["isLoading"]),u(t,{text:e.rating.name[e.$langDefault()]},null,8,["text"]),s("div",q,[s("div",z,[e.rating.linksToSources.length?(o(),i("div",{key:0,class:"button-sources","data-gtm-element":"rating-button-links-to-sources",onClick:a[0]||(a[0]=n=>e.scrollToLinksSources())},[s("span",G,l(e.$t("Links to sources")),1),s("span",H,l(e.$t("Sources")),1)])):g("",!0)]),s("div",J,[s("div",K,[(o(!0),i(k,null,$(e.rating.sectionsIds,n=>(o(),N(d,{class:"labels-sections__item","data-gtm-element":"labels-sections-item",to:`/${e.$langDefault()}/section/${n}`},{default:w(()=>[B(l(`#${e.sectionsMap[n].name[e.$langDefault()]}`),1)]),_:2},1032,["to"]))),256))])])]),s("div",O,[u(h,{labels:e.labels,items:e.ratingItems,rating:e.rating},null,8,["labels","items","rating"])]),e.rating.descr[e.$langDefault()]?(o(),i("div",Q,[u(t,{text:e.$t("Description"),level:3,textAlign:"left"},null,8,["text"]),s("div",null,l(e.rating.descr[e.$langDefault()]),1)])):g("",!0),e.rating.linksToSources.length?(o(),i("div",U,[u(t,{text:e.$t("Links to sources"),level:3,textAlign:"left"},null,8,["text"]),s("div",W,[(o(!0),i(k,null,$(e.rating.linksToSources,(n,m)=>(o(),i("div",X,[s("span",Y,l(`#${m+1}`)+".",1),s("a",{class:"links-sources__link",href:n,target:"_blank","data-gtm-element":"links-to-sources-item"},l(n),9,Z)]))),256))])],512)):g("",!0)])}const ce=C(P,[["render",ee]]);export{ce as default};
